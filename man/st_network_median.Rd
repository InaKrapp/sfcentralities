% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/st_network_median.R
\name{st_network_median}
\alias{st_network_median}
\title{Find the Most Central Point in a Network}
\usage{
st_network_median(data, ...)
}
\arguments{
\item{data}{A sf dataframe containing the points to be analyzed.}

\item{...}{Additional arguments to be passed directly to the `st_network_distance`
function. This includes `graph`, `placename`, `transport_mode`, and
`calculate_times`.}
}
\value{
A single-row sf dataframe representing the most central point.
  A new column, `total_distance`, is added to this dataframe, containing the
  sum of its distances to all other points.
}
\description{
This function identifies the point within a sf dataset that has the minimum
sum of network distances to all other points in the same dataset. It uses
the provided `st_network_distance` function to perform the underlying
distance calculations.
}
\examples{
# First, ensure the st_network_distance function from the prompt is available
# in your environment.

# Create a sample dodgr graph (as in the original example)
# Note: The hampi dataset is often used as an example but may not be installed.
# We will create a more self-contained example.
library(sf)
library(dodgr)

# Create an example graph from a small section of a city
# Using a bounding box for Cambridge, MA
net <- dodgr_streetnet(bbox = c(-71.12, 42.37, -71.10, 42.38), expand = 0.05)
graph <- weight_streetnet(net, wt_profile = "foot")

# Create a set of random points within that bounding box
# set.seed for reproducibility
set.seed(123)
pts <- st_sample(st_as_sfc(st_bbox(c(xmin=-71.12, ymin=42.37, xmax=-71.10, ymax=42.38))), 10)
pts <- st_as_sf(pts)
st_crs(pts) <- "EPSG:4326" # Set CRS to WGS84
pts$id <- 1:nrow(pts) # Add an ID column

# Find the most central point
central_point <- st_network_median(data = pts, graph = graph)

# Print the result
print(central_point)

# You can visualize the result
# (Requires ggplot2 and ggrepel)
# library(ggplot2)
# library(ggrepel)
#
# ggplot() +
#   geom_sf(data = dodgr_to_sf(graph), color = "gray80") +
#   geom_sf(data = pts, color = "blue", size = 3) +
#   geom_sf(data = central_point, color = "red", size = 5, shape = 18) +
#   geom_text_repel(data = central_point, aes(label = "Central Point",
#                                    geometry = geometry),
#                   stat = "sf_coordinates", nudge_x = 0.001) +
#   theme_void() +
#   labs(title = "Most Central Point (Red) Among a Set of Points (Blue)")
}
